<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Assignment 2 ExpRob: exp_assignment2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Assignment 2 ExpRob
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">exp_assignment2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="autotoc_md1"></a>
Introduction</h2>
<p>In this project a dog wheeled robot is able to move in different positions and if detects the presence of a green ball he follows it. This robot can assume three behaviours which are <b>sleep</b>,<b>normal</b> and <b>play</b>. The robot acts in simulation on Gazebo in an arena represented as an 8x8 meters grid containing the robot, the human and a green ball.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
Software architecture</h2>
<p>The architecture is based on three main blocks. The first one is given by the user interface, where the user is able to control the movement and the position of a green ball. The second block is basically a state machine where the robot goes by default in the <b>normal</b> state (RANDOMLYGOING), and it reaches a random position. Then it goes in the <b>sleep</b> state where it reaches a fixed home position passing at the end in the <b>play</b> state. The robot remains in this state until he's able to detect the ball, if he doesn't detect it for an amount of time returns to the normal state. Until the ball is detected the robot keeps moving the head of 45Â° left and right, passing through the center. From the state machine, in the states normal and sleep, an action client send the goal position to an action server (the third block) that makes the robot move in the desired position, that can be the home position or a random position. </p>
<h2><a class="anchor" id="autotoc_md3"></a>
Packages and file list</h2>
<p>The package used is <b>exp_assignment2</b>. In the folder <code>exp_assignment2/scripts</code> there are the following files :</p><ul>
<li><b><a class="el" href="go__to__point__ball_8py.html">go_to_point_ball.py</a></b> : this is an action server that moves the ball in the desired position</li>
<li><b><a class="el" href="go__to__point__action_8py.html">go_to_point_action.py</a></b> : this is an action server that moves the robot in the desired position</li>
<li><b><a class="el" href="state__machine_8py.html">state_machine.py</a></b> that is the FSM that controls the behaviour of the robot in the three cases.</li>
</ul>
<p>In the folder <code>exp_assignment2/urdf</code> there are all the files describing the structure of the robot, of the ball and of the human present in the scene. ( robot.xacro, robot.gazebo, human.urdf, ball.xacro, ball.gazebo)</p>
<p>In the folder <code>exp_assignment2/launch</code> there's the launch file <b>gazebo_world.launch</b> that launches the simulation in Gazebo.</p>
<p>In the folder <code>exp_assignment2/action</code> there's the file Planning.action which is the file containing the message for the two action servers.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Installation and running procedure</h2>
<p>To run the simulation it's necessary to put the package in a ROS workspace and then in the terminal run: </p><div class="fragment"><div class="line">$ catkin_make</div>
</div><!-- fragment --><p>Then to launch the simulation: </p><div class="fragment"><div class="line">$ roslaunch exp_assignment2 gazebo_world.launch</div>
</div><!-- fragment --><p>In another terminal to run the state machine : </p><div class="fragment"><div class="line">$ rosrun exp_assignment2 state_machine.py</div>
</div><!-- fragment --><p>Whenever the user want to make the robot interact with the ball in another terminal has to run : </p><div class="fragment"><div class="line">$ rostopic pub /reaching_goal/goal....</div>
</div><!-- fragment --><p>in order to send the message to the action server of the ball and position it in the desired position. To make the ball disappear the user has simply to set the z-coordinate of the position to a negative value.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
System's limitations</h2>
<p>One of the limitations of the system is that when the user puts the ball in a certain position, he has to wait that the robot wakes up from the sleeping state before it starts interacting with the ball.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Possible technical improvements</h2>
<p>A possible technical improvement is to manage the situation described before using a flag to make the robot change the state whenever the user moves the ball.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Author and contact</h2>
<p>Terrile Chiara mail: **chiaraterrile97@gmail.com** </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
